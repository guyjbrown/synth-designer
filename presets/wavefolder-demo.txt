@synth wavefolderdemo
longname : Wavefolder demo
type : synth
author : Guy J Brown
version : 1.0
doc : A gnarly bass synth made with the wavefolder
@end

# parameters

@param threshold
type : float
mutable: yes
step : 0.01
min : 0.05
max : 0.95
default : 0.5
doc : wavefolder threshold
@end

# modules

SIN-OSC : osc
VCA : vca
FOLDER : folder
ADSR : env
ADSR : env2

# patch

osc.out -> folder.in
folder.out -> vca.in
vca.out -> audio.in

# tweak

osc.pitch = param.pitch
vca.level = param.level
folder.stages = 6
folder.symmetry = 0.4
folder.threshold = 0

env.out -> vca.levelCV
env.attack = 0.02
env.decay = 0.2
env.sustain = param.level
env.level = param.level
env.release = 0.1

env2.out -> folder.thresholdCV
env2.attack = 0.01
env2.level = 0.1
env2.decay = 2
env2.sustain = 0.9
env2.release = 0.2

# end
