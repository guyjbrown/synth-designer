@synth wavetable
longname : Wavetable test
type : synth
author : Guy J Brown
version : 1.0
doc : A test of wavetable synthesis
@end

# parameters

@param cutoff
type : float
mutable: yes
step : 0.01
min : 100
max : 8000
default : 2000
doc : cutoff frequency
@end

@param index
type : float
mutable: yes
step : 0.01
min : -1
max : 1
default : 0
doc : wavetable index
@end

@param volume
type : float
mutable: yes
step : 0.01
min : 0
max : 1
default : 0.4
doc : master volume
@end

@param lfo_rate
type : float
mutable: yes
step : 0.01
min : 0
max : 5
default : 0.2
doc : rate of the LFO that sweeps the wavetable
@end

@param lfo_depth
type : float
mutable: yes
step : 0.01
min : 0
max : 1
default : 1
doc : depth of the LFO that sweeps the wavetable
@end


# modules

WAVE-OSC : osc
LPF : lowpass
VCA : vca
ADSR : env
TRI-OSC : lfo
VCA : lfogain

# patch

osc.out -> lowpass.in
lowpass.out -> vca.in
vca.out -> audio.in
lfo.out -> lfogain.in
lfogain.out -> osc.indexCV

# tweak

lfo.pitch = param.lfo_rate
osc.pitch = param.pitch
vca.level = param.level
lowpass.cutoff = param.cutoff
osc.index = param.index
lfogain.level = param.lfo_depth

# env

env.attack=0.01
env.decay=0.1
env.level = param.level*param.volume
env.sustain = param.level*param.volume
env.release = 0.1
env.out -> vca.levelCV


# end
